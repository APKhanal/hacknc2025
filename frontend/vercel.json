{
"version": 2,

// The 'builds' array was removed to resolve the conflict with 'functions'.
// Vercel will auto-detect the Next.js and Python builders.

"env": {
"NEXT_PUBLIC_API_URL": "@next_public_api_url",
"GEMINI_API_KEY": "@gemini_api_key",
"GOOGLE_API_KEY": "@google_api_key",
"ELEVENLABS_API_KEY": "@elevenlabs_api_key",
"DATABASE_URL": "@database_url",
"NEWS_API_KEY": "@news_api_key",
"FINNHUB_API_KEY": "@finnhub_api_key",
"ALPHA_VANTAGE_KEY": "@alpha_vantage_key"
},

"functions": {
// This block is kept to preserve your desired maxDuration setting for functions.
"app/api/**/*.ts": {
"maxDuration": 30
},
"api/backend/index.py": {
"maxDuration": 30
}
},

"routes": [
// Routes are kept as they are necessary for routing traffic to the Python backend.
{
"src": "/api/backend/(.*)",
"dest": "/api/backend/index.py"
}
]
}
